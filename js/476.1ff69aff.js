"use strict";(self["webpackChunkshopping_hui"]=self["webpackChunkshopping_hui"]||[]).push([[476],{1476:function(s,e,t){t.r(e),t.d(e,{default:function(){return d}});var i=function(){var s=this,e=s._self._c;return e("div",{staticClass:"register-container"},[e("div",{staticClass:"register"},[s._m(0),e("div",{staticClass:"content"},[e("label",[s._v("手机号:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入你的手机号"},domProps:{value:s.phone},on:{input:function(e){e.target.composing||(s.phone=e.target.value)}}}),e("span",{directives:[{name:"show",rawName:"v-show",value:!s.isPhone&&s.phone,expression:"!isPhone && phone"}],staticClass:"error-msg"},[s._v("手机号格式有误")])]),e("div",{staticClass:"content"},[e("label",[s._v("验证码:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.code,expression:"code"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:s.code},on:{input:function(e){e.target.composing||(s.code=e.target.value)}}}),e("button",{on:{click:function(e){return s.getCode(s.phone)}}},[s._v("获取验证码")]),e("span",{directives:[{name:"show",rawName:"v-show",value:!s.isCode&&s.code,expression:"!isCode && code"}],staticClass:"error-msg"},[s._v("验证码只包含6位数字")])]),e("div",{staticClass:"content"},[e("label",[s._v("登录密码:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入你的登录密码"},domProps:{value:s.password},on:{input:function(e){e.target.composing||(s.password=e.target.value)}}}),e("span",{directives:[{name:"show",rawName:"v-show",value:!s.isPassword&&s.password,expression:"!isPassword && password"}],staticClass:"error-msg"},[s._v("密码只支持6-20位数字，英文大小写及组合")])]),e("div",{staticClass:"content"},[e("label",[s._v("确认密码:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.password1,expression:"password1"}],attrs:{type:"password",placeholder:"请输入确认密码"},domProps:{value:s.password1},on:{input:function(e){e.target.composing||(s.password1=e.target.value)}}}),e("span",{directives:[{name:"show",rawName:"v-show",value:!s.isPassword1&&s.password1,expression:"!isPassword1 && password1"}],staticClass:"error-msg"},[s._v("密码前后不一致")])]),e("div",{staticClass:"controls"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.isCheck,expression:"isCheck"}],attrs:{name:"m1",type:"checkbox"},domProps:{checked:Array.isArray(s.isCheck)?s._i(s.isCheck,null)>-1:s.isCheck},on:{change:function(e){var t=s.isCheck,i=e.target,o=!!i.checked;if(Array.isArray(t)){var a=null,r=s._i(t,a);i.checked?r<0&&(s.isCheck=t.concat([a])):r>-1&&(s.isCheck=t.slice(0,r).concat(t.slice(r+1)))}else s.isCheck=o}}}),e("span",[s._v("同意协议并注册《尚品汇用户协议》")])]),e("div",{staticClass:"btn"},[e("button",{on:{click:s.confirmRegister}},[s._v("完成注册")])])]),s._m(1)])},o=[function(){var s=this,e=s._self._c;return e("h3",[s._v(" 注册新用户 "),e("span",{staticClass:"go"},[s._v("我有账号，去 "),e("a",{attrs:{href:"login.html",target:"_blank"}},[s._v("登陆")])])])},function(){var s=this,e=s._self._c;return e("div",{staticClass:"copyright"},[e("ul",[e("li",[s._v("关于我们")]),e("li",[s._v("联系我们")]),e("li",[s._v("联系客服")]),e("li",[s._v("商家入驻")]),e("li",[s._v("营销中心")]),e("li",[s._v("手机尚品汇")]),e("li",[s._v("销售联盟")]),e("li",[s._v("尚品汇社区")])]),e("div",{staticClass:"address"},[s._v("地址：北京市昌平区宏福科技园综合楼6层")]),e("div",{staticClass:"beian"},[s._v("京ICP备19006430号")])])}],a={name:"Register",data(){return{phone:"",code:"",password:"",password1:"",isPhone:!1,isCode:!1,isPassword:!1,isPassword1:!1,isCheck:!1}},watch:{phone:function(){const s=/^(?:(?:\+|00)86)?1[3-9]\d{9}$/;s.test(this.phone)?this.isPhone=!0:this.isPhone=!1},code:function(){const s=/^\d{6}$/;s.test(this.code)?this.isCode=!0:this.isCode=!1},password:function(){const s=/^[0-9A-Za-z]{6,20}$/;s.test(this.password)?this.isPassword=!0:this.isPassword=!1},password1:function(){this.password===this.password1?this.isPassword1=!0:this.isPassword1=!1}},computed:{isFinish(){const s=this.isPhone&&this.isCode&&this.isPassword&&this.isPassword1;return this.isCheck&&s}},methods:{async getCode(s){try{await this.$store.dispatch("user/getCode",s),this.code=this.$store.state.user.code}catch(e){alert(e)}},async confirmRegister(){const{phone:s,code:e,password:t,password1:i}=this;try{s&&e&&this.isFinish?(await this.$store.dispatch("user/confirmRegister",{phone:this.phone,code:this.code,password:this.password}),this.$alert("您已注册成功!","完成"),this.$router.push("/login")):this.isCheck?this.$alert("输入有误，请检查并重新输入","错误"):this.$alert("未勾选同意协议","错误")}catch(o){this.$alert("账号可能已被注册，或验证码错误","注册失败")}}}},r=a,n=t(1001),c=(0,n.Z)(r,i,o,!1,null,"6683e30b",null),d=c.exports}}]);