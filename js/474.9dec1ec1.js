"use strict";(self["webpackChunkshopping_hui"]=self["webpackChunkshopping_hui"]||[]).push([[474,16],{4601:function(t,a,s){s.d(a,{Z:function(){return h}});var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"pagination"},[a("button",[t._v("上一页")]),t.startAndEnd.start>2&&t.pageNo>t.continues?a("button",{on:{click:function(a){return t.switchPage(1)}}},[t._v(" 1 ")]):t._e(),t.startAndEnd.start>3&&t.pageNo>t.continues?a("button",{on:{click:function(a){return t.switchPage(2)}}},[t._v(" 2 ")]):t._e(),t.startAndEnd.start>2&&t.pageNo>t.continues?a("button",[t._v("···")]):t._e(),t.pageNo<=t.continues?t._l(t.startAndEnd.end,(function(s){return a("button",{class:{active:t.pageNo===s},on:{click:function(a){return t.switchPage(s)}}},[t._v(" "+t._s(s)+" ")])})):t._l(t.startAndEnd.end,(function(s){return s>t.startAndEnd.start?a("button",{class:{active:t.pageNo===s},on:{click:function(a){return t.switchPage(s)}}},[t._v(" "+t._s(s)+" ")]):t._e()})),t.startAndEnd.end<=t.totalPage-2?a("button",[t._v("...")]):t._e(),t.startAndEnd.end<=t.totalPage-2?a("button",{on:{click:function(a){return t.switchPage(t.totalPage)}}},[t._v(" "+t._s(t.totalPage)+" ")]):t._e(),a("button",[t._v("下一页")]),a("button",{staticStyle:{"margin-left":"30px"}},[t._v("共 "+t._s(t.totalPage)+" 条")])],2)},r=[],i={name:"Pagination",data(){return{dddd:1}},props:["pageNo","pageSize","total","continues"],mounted(){},computed:{totalPage(){return Math.ceil(this.total/this.pageSize)},startAndEnd(){let{pageNo:t,pageSize:a,totalPage:s,continues:e}=this,r=0,i=0;return s<e?(r=1,i=s):(r=t-Math.floor(e/2),i=t+Math.floor(e/2),r<1&&(r=1,i=e),i>s&&(i=s,r=i-e+1)),{start:r,end:i}}},methods:{switchPage(t){this.$emit("changePage",t)}}},c=i,n=s(1001),o=(0,n.Z)(c,e,r,!1,null,"051afa38",null),h=o.exports},1474:function(t,a,s){s.r(a),s.d(a,{default:function(){return _}});var e=function(){var t=this,a=t._self._c;return a("div",[a("TypeNav"),a("div",{staticClass:"main"},[a("div",{staticClass:"py-container"},[a("div",{staticClass:"bread"},[t._m(0),a("ul",{staticClass:"fl sui-tag"},[a("li",{directives:[{name:"show",rawName:"v-show",value:t.searchParams.categoryName,expression:"searchParams.categoryName"}],staticClass:"with-x",on:{click:t.deleteTag}},[t._v(" "+t._s(t.searchParams.categoryName)),a("i",[t._v("x")])]),a("li",{directives:[{name:"show",rawName:"v-show",value:t.searchParams.keyword,expression:"searchParams.keyword"}],staticClass:"with-x",on:{click:t.deleteKeywordTag}},[t._v(" "+t._s(t.searchParams.keyword)),a("i",[t._v("x")])]),t.searchParams.trademark?a("li",{staticClass:"with-x",on:{click:t.deleteTradeMark}},[t._v(" "+t._s(t.searchParams.trademark.split(":")[1])),a("i",[t._v("x")])]):t._e(),t._l(t.searchParams.props,(function(s,e){return a("li",{key:s.split(":")[0],staticClass:"with-x",on:{click:function(a){return t.deleteAttr(e)}}},[t._v(" "+t._s(s.split(":")[1])),a("i",[t._v("x")])])}))],2)]),a("SearchSelector",{on:{tmChange:t.trademarkChange,attrChange:t.attrChange}}),a("div",{staticClass:"details clearfix"},[a("div",{staticClass:"sui-navbar"},[a("div",{staticClass:"navbar-inner filter"},[a("ul",{staticClass:"sui-nav"},[a("li",{class:{active:t.isOne},on:{click:function(a){return t.switchOrder("1")}}},[a("a",{attrs:{href:"javascript:void(0)"}},[t._v("综合 "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isOne,expression:"isOne"}]},[t._v(t._s(t.isAsc?"↑":"↓"))])])]),a("li",{class:{active:t.isTwo},on:{click:function(a){return t.switchOrder("2")}}},[a("a",{attrs:{href:"javascript:void(0)"}},[t._v("价格 "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isTwo,expression:"isTwo"}]},[t._v(t._s(t.isAsc?"↑":"↓"))])])])])])]),a("div",{staticClass:"goods-list"},[a("ul",{staticClass:"yui3-g"},t._l(t.goodList,(function(s,e){return a("li",{key:s.id,staticClass:"yui3-u-1-5"},[a("div",{staticClass:"list-wrap"},[a("div",{staticClass:"p-img"},[a("router-link",{attrs:{href:"javascript:void(0)",to:`/detail/${s.id}`}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.defaultImg,expression:"good.defaultImg"}]})])],1),a("div",{staticClass:"price"},[a("strong",[a("em",[t._v("¥")]),a("i",[t._v(t._s(s.price))])])]),a("div",{staticClass:"attr"},[a("a",{attrs:{target:"_blank",href:"item.html",title:s.title}},[t._v(t._s(s.title))])]),a("div",{staticClass:"commit"},[a("i",{staticClass:"command"},[t._v("已有"),a("span",[t._v(t._s(s.hotScore))]),t._v("人评价")])]),t._m(1,!0)])])})),0)]),a("div",{staticClass:"fr page"},[a("Paginator",{attrs:{pageNo:t.searchParams.pageNo,pageSize:t.searchParams.pageSize,total:t.total,continues:5},on:{changePage:t.changePage}})],1)])],1)])],1)},r=[function(){var t=this,a=t._self._c;return a("ul",{staticClass:"fl sui-breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[t._v("全部结果")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"operate"},[a("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[t._v("加入购物车")]),a("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[t._v("收藏")])])}],i=s(3822),c=function(){var t=this,a=t._self._c;return a("div",{staticClass:"clearfix selector"},[a("div",{staticClass:"type-wrap logo"},[a("div",{staticClass:"fl key brand"},[t._v("品牌")]),a("div",{staticClass:"value logos"},[a("ul",{staticClass:"logo-list"},t._l(t.trademarkList,(function(s,e){return a("li",{key:s.tmId,on:{click:function(a){return t.trademarkHandler(s)}}},[t._v(" "+t._s(s.tmName)+" ")])})),0)]),t._m(0)]),t._l(t.attrsList,(function(s,e){return a("div",{key:s.attrId,staticClass:"type-wrap"},[a("div",{staticClass:"fl key"},[t._v(t._s(s.attrName))]),a("div",{staticClass:"fl value"},[a("ul",{staticClass:"type-list"},t._l(s.attrValueList,(function(e,r){return a("li",{key:r,on:{click:function(a){return t.attrHandler(s,e)}}},[a("a",[t._v(t._s(e))])])})),0)]),a("div",{staticClass:"fl ext"})])}))],2)},n=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"ext"},[a("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[t._v("多选")]),a("a",{attrs:{href:"javascript:void(0);"}},[t._v("更多")])])}],o={computed:{...(0,i.Se)("search",["trademarkList","attrsList"])},methods:{attrHandler(t,a){console.log(`${t.attrId}:${t.attrName}:${a}`),this.$emit("attrChange",t,a)},trademarkHandler(t){console.log("click"),this.$emit("tmChange",t)}},name:"SearchSelector"},h=o,l=s(1001),d=(0,l.Z)(h,c,n,!1,null,"1869576a",null),u=d.exports,m=s(4601),v={components:{SearchSelector:u,Paginator:m.Z},data(){return{searchParams:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",props:[],trademark:"",order:"1:desc",pageNo:1,pageSize:8}}},methods:{changePage(t){this.searchParams.pageNo=t,this.$store.dispatch("search/getSearchList",this.searchParams)},switchOrder(t){let a=this.searchParams.order.split(":")[1];this.searchParams.order.split(":")[0]===t&&(a="desc"===a?"asc":"desc"),this.searchParams.order=`${t}:${a}`,this.$store.dispatch("search/getSearchList",this.searchParams)},deleteAttr(t){this.searchParams.props.splice(t,1),this.$store.dispatch("search/getSearchList",this.searchParams)},attrChange(t,a){let s=`${t.attrId}:${a}:${t.attrName}`;-1===this.searchParams.props.indexOf(s)&&this.searchParams.props.push(s),this.$store.dispatch("search/getSearchList",this.searchParams)},trademarkChange(t){this.searchParams.trademark=`${t.tmId}:${t.tmName}`,this.$store.dispatch("search/getSearchList",this.searchParams)},getSearch(){this.$store.dispatch("search/getSearchList",this.searchParams),this.searchParams.category1Id="",this.searchParams.category2Id="",this.searchParams.category3Id=""},deleteTag(){this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0,this.searchParams.categoryName=void 0,this.$store.dispatch("search/getSearchList",this.searchParams),this.$route.params&&this.$router.push({name:"search",params:this.$route.params})},deleteKeywordTag(){this.searchParams.keyword=void 0,this.$store.dispatch("search/getSearchList",this.searchParams),this.$bus.$emit("clearKeyword"),this.$route.query&&this.$router.push({name:"search",query:this.$route.query})},deleteTradeMark(){this.searchParams.trademark=void 0,this.$store.dispatch("search/getSearchList",this.searchParams)}},computed:{...(0,i.Se)("search",["goodList"]),...(0,i.rn)({total:t=>t.search.searchContent.total}),isOne(){return-1!==this.searchParams.order.indexOf("1")},isTwo(){return-1!==this.searchParams.order.indexOf("2")},isAsc(){return-1!==this.searchParams.order.indexOf("asc")},isDesc(){return-1!==this.searchParams.order.indexOf("desc")}},updated(){},beforeMount(){Object.assign(this.searchParams,this.$route.query,this.$route.params)},mounted(){this.getSearch()},watch:{$route:function(t,a){Object.assign(this.searchParams,this.$route.query,this.$route.params),this.getSearch()}}},g=v,p=(0,l.Z)(g,e,r,!1,null,"8710d040",null),_=p.exports}}]);